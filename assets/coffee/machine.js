// Generated by CoffeeScript 1.6.2
(function() {
  var Machine;

  Machine = (function() {
    function Machine(keyboard, rotorDeck, lampboard, screen) {
      keyboard.on('keydown', function(e) {
        rotorDeck.encrypt(e.key);
        return screen.addToInput(e.key);
      });
      keyboard.on('keyup', function(e) {
        lampboard.turnOff();
        return rotorDeck.advanceRotors();
      });
      rotorDeck.on('characterEncrypted', function(e) {
        lampboard.turnOn(e.result);
        return screen.addToOutput(e.result);
      });
    }

    return Machine;

  })();

  this.Machine = Machine;

}).call(this);
